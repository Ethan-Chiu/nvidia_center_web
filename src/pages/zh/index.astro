---
import i18next, { t, changeLanguage } from "i18next";
import { getCollection, getEntry } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import HeaderLayout from "../../layouts/HeaderLayout.astro";
import FooterLayout from "@/layouts/FooterLayout.astro";

changeLanguage("zh");

const currentLanguage = i18next.language;
const pageData = await getEntry("home", `${currentLanguage}/page`);
const Content = (await pageData?.render())?.Content;
---

<Layout title={t("home.head.title")}>
	<HeaderLayout>
		<FooterLayout>
			<main class="py-16 px-16 flex justify-center">
				<div class="w-full lg:w-2/3">
					<h1 class="font-serif font-bold text-xl m-2">
						{t("home.content.title")}
					</h1>
					<div
						class="bg-secondary w-full p-4 rounded-md text-foreground"
					>
						<p>
							{Content && <Content /> }
						</p>
					</div>

					<h1 class="font-serif font-bold text-xl m-2">News</h1>
				</div>
			</main>
		</FooterLayout>
	</HeaderLayout>
</Layout>
